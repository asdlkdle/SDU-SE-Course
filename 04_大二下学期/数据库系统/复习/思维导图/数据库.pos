{"diagram":{"image":{"height":200,"pngdata":"iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAsUlEQVR4nO3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8GXHmAAFMgHIEAAAAAElFTkSuQmCC","width":200,"y":0,"x":0},"elements":{"id":"root","structure":"mind_free","leftChildren":[],"title":"数据库","watermark":"","root":true,"theme":"customise_e82c944df906","children":[{"id":"314d879afb71","title":"第一章 关系模型","parent":"root","children":[{"id":"659b7fe0633e","title":"三层模式结构","parent":"314d879afb71","children":[{"id":"81360b5fd6d8","title":"外模式","parent":"659b7fe0633e","children":[]},{"id":"26f5bb900349","title":"模式","parent":"659b7fe0633e","children":[]},{"id":"80f303816817","title":"内模式","parent":"659b7fe0633e","children":[]},{"id":"29db41d4f828","title":"","image":{"w":382,"h":265,"url":"http://cdn.processon.com/60d568d01e08532a43bc7e3e?e=1624602336&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:DR-RT1dtgZkd_HPfDaS1ROQjNso="},"children":[],"parent":"659b7fe0633e"}],"collapsed":false},{"id":"79e50d072c9b","title":"关系模型","parent":"314d879afb71","children":[]},{"id":"7154c7240fb2","title":"关系模式","parent":"314d879afb71","children":[]},{"id":"3a280ff77685","title":"关系实例","parent":"314d879afb71","children":[]}],"collapsed":false},{"id":"82c1bb45ee2c","title":"第二章 SQL","children":[{"id":"a6ccc684288c","title":"四种分类","parent":"82c1bb45ee2c","children":[{"id":"af072a834dd2","title":"数据定义语言DDL(Data Definition Language)","children":[{"id":"517de449b3da","title":"","parent":"af072a834dd2","children":[],"image":{"w":705,"h":146,"url":"http://cdn.processon.com/60d579511efad461e4504a6f?e=1624606561&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:SLh7ChrC8xdOMO2WaYOtohRyt64="}}],"parent":"a6ccc684288c","collapsed":true},{"id":"2f92355c89b2","title":"数据操纵语言DML(Data Manipulation Language)","children":[],"parent":"a6ccc684288c"},{"id":"2fcd955ebb73","title":"数据库控制语言DCL(Data Control Language)","parent":"a6ccc684288c","children":[]},{"id":"255f8c348264","title":"事务控制语言TCL(Transaction Control Language)<br>","children":[],"parent":"a6ccc684288c"}],"collapsed":false},{"id":"9529bca92a39","title":"集合操作","parent":"82c1bb45ee2c","children":[{"id":"c334d6af092b","title":"union并","parent":"9529bca92a39","children":[{"id":"682f8c915a60","title":"(select sno from S，D<br>where s.sno = d.dno and dname = ‘软件学院’)<br>union all<br>(select sno from SC，C<br>where sc.cno = c.cno and cname = ‘DB’);","parent":"c334d6af092b","children":[]}]},{"id":"e06295bb2d2a","title":"intersect交","parent":"9529bca92a39","children":[]},{"id":"27b0b68554d7","title":"except(minus)差","children":[],"parent":"9529bca92a39"},{"id":"46028bfa04b5","title":"集合操作<b>自动去除重复元组</b>，如果要保留重复元组<br>的话，必须用all关键词指明","parent":"9529bca92a39","children":[]}],"collapsed":false},{"id":"1177a929d6ec","title":"聚集函数","children":[{"id":"e46382cc560f","title":"sum、count、max、min、avg","children":[],"parent":"1177a929d6ec"},{"id":"c50512630901","title":"where和having的区别","children":[{"id":"ebad196a01f2","title":"where不能使用聚集函数","children":[],"parent":"c50512630901"},{"id":"eaaf251b8a9f","title":"where的作用对象是元组，having的作用对象是分组","children":[],"parent":"c50512630901"}],"parent":"1177a929d6ec"}],"parent":"82c1bb45ee2c","collapsed":false},{"id":"26f61ba8c5e3","title":"嵌套子查询","children":[{"id":"7f1c0d197d25","title":"in","children":[],"parent":"26f61ba8c5e3"},{"id":"d23739e15df4","title":"子查询不能使用order","children":[],"parent":"26f61ba8c5e3"},{"id":"e3ec5974e69a","title":"子查询一定要跟在比较运算符之后","children":[],"parent":"26f61ba8c5e3"},{"id":"b8099cb6b33e","title":"some/all子查询","children":[{"id":"cb2ed0c50df4","title":"some：表达式的值至少与子查询结果中的一个值相比满足比较运算符","children":[],"parent":"b8099cb6b33e"},{"id":"378453a54c90","title":"all：表达式的值与子查询结果中的所有的值相比都满足比较运算符","children":[],"parent":"b8099cb6b33e"}],"parent":"26f61ba8c5e3"},{"id":"1e2ce640eaac","title":"exists","parent":"26f61ba8c5e3","children":[{"id":"ecd10e45c58c","title":"测试集合是否为空","children":[],"parent":"1e2ce640eaac"}]},{"id":"4c77b62d664e","title":"unique","children":[{"id":"2ab02893f63b","title":"测试是否存在重复元组","children":[],"parent":"4c77b62d664e"}],"parent":"26f61ba8c5e3"},{"id":"57f2a7e31fb3","title":"派生关系","children":[{"id":"75d18588892d","title":"(子查询) as 关系名(列名，列名，…)","children":[],"parent":"57f2a7e31fb3"}],"parent":"26f61ba8c5e3"},{"id":"7494333ee3e7","title":"With子句","parent":"26f61ba8c5e3","children":[{"id":"a3c32cf48920","title":"With子句提供定义一个临时视图的方法，这个<br>定义只对于with子句出现的那条查询有效","parent":"7494333ee3e7","children":[]},{"id":"8c3b8c2073f0","title":"With max_score (mscore) as<br>select max (score) from sc<br>Select sno from sc,max_score<br>where sc.score=max_score.mscore","parent":"7494333ee3e7","children":[]}]}],"parent":"82c1bb45ee2c","collapsed":false},{"id":"e930ffd3c70e","title":"视图","children":[{"id":"c1a8f721cfd3","title":"视图表是在关系数据库中，将一组查询指令构成的结果集，组合成可查询的资料表的一种数据库对象。<br>视图表是一种虚拟结构","children":[],"parent":"e930ffd3c70e"},{"id":"048610f180b6","title":"视图更新的限制","children":[{"id":"619425cacb74","title":"若视图是由两个以上基本表导出的，则此视图不允许更新","children":[],"parent":"048610f180b6"},{"id":"0831e17af273","title":"若视图的字段来自字段表达式或常数，则不允许对此视图执行INSERT和UPDATE操作，但允许执行DELETE操作","children":[],"parent":"048610f180b6"}],"parent":"e930ffd3c70e"},{"id":"1d39d1758735","title":"物化视图","children":[{"id":"0f3802f5c551","title":"即实体化视图，它确实存放有物理数据。物化视图包含定义视图的查询时所选择的基表中的行","children":[],"parent":"1d39d1758735"},{"id":"0683cacce8d3","title":"对物化视图的查询就是直接从该视图中取出数据，不需要从基本表中获得数据","parent":"1d39d1758735","children":[]}],"parent":"e930ffd3c70e"}],"parent":"82c1bb45ee2c","collapsed":false},{"id":"7af298845fc6","title":"完整性约束","children":[],"parent":"82c1bb45ee2c"},{"id":"9799206a7d84","title":"JDBC","children":[{"id":"0b0b8e178099","title":"","image":{"w":607,"h":426,"url":"http://cdn.processon.com/60d6a1ab1efad461e451b786?e=1624682427&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:l9SbYRyrhorNZlfkA_lCtr9hshI="},"children":[],"parent":"9799206a7d84"}],"parent":"82c1bb45ee2c","collapsed":false}],"parent":"root","collapsed":false},{"id":"86758789f164","title":"第六章&nbsp;形式化关系查询语言","children":[{"id":"4fb1faa01e79","title":"关系代数基本运算","parent":"86758789f164","children":[{"id":"35461074a492","title":"六个基本运算","children":[{"id":"88c9747dcb8e","title":"σ 选择","parent":"35461074a492","children":[{"id":"ec61c1bed38c","title":"","parent":"88c9747dcb8e","children":[],"image":{"w":309,"h":202,"url":"http://cdn.processon.com/60d6a7951e08532a43be29b2?e=1624683941&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:DggKUGbWCr68GdCPg9-uBn5AsmU="}}]},{"id":"12db69e56c86","title":"Π 投影","parent":"35461074a492","children":[{"id":"898accc7b4a6","title":"","parent":"12db69e56c86","children":[],"image":{"w":237,"h":110,"url":"http://cdn.processon.com/60d6a7a2f346fb5e35b43a91?e=1624683954&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:43UFYwiZ4PAjxKlCXFk-fIxKY1U="}}]},{"id":"f7e434a174f4","title":"∪ 并运算union","parent":"35461074a492","children":[{"id":"de3b8654c662","title":"","parent":"f7e434a174f4","children":[],"image":{"w":308,"h":193,"url":"http://cdn.processon.com/60d6a809637689326ce4f450?e=1624684057&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:DPPfeoUKAwE-5pTvdY9lPm7DW-E="}}]},{"id":"0520ddba1737","title":"－差运算","parent":"35461074a492","children":[{"id":"f88184074cfa","title":"","parent":"0520ddba1737","children":[],"image":{"w":307,"h":190,"url":"http://cdn.processon.com/60d6a8641efad461e451bf3b?e=1624684148&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:JfIoLSVfGID-Jm4cxg1G16nEEs0="}}]},{"id":"bee91d54f1f7","title":"× 笛卡尔积运算","parent":"35461074a492","children":[{"id":"e98d5265a30b","title":"","parent":"bee91d54f1f7","children":[],"image":{"w":344,"h":174,"url":"http://cdn.processon.com/60d6a8edf346fb5e35b43ba3?e=1624684285&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:_iaMiXiBwLlBMoSCfTV1HT-4dQc="}}]},{"id":"121eaa68cbb7","title":"ρ 更名运算","parent":"35461074a492","children":[{"id":"68b0ce575a46","title":"","parent":"121eaa68cbb7","children":[],"image":{"w":415,"h":74,"url":"http://cdn.processon.com/60d6a9735653bb049a49ddc3?e=1624684419&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:sziCeIU1ganhXLxN8Q7hbKuRIo8="}}]}],"parent":"4fb1faa01e79","collapsed":false},{"id":"fb622e43cfdb","title":"附加运算","children":[{"id":"a512a2d407e1","title":"交(r∩s)","parent":"fb622e43cfdb","children":[]},{"id":"284ca9e474ac","title":"自然连接(r ⋈ s)","parent":"fb622e43cfdb","children":[{"id":"9ac16bd33b33","title":"","parent":"284ca9e474ac","children":[],"image":{"w":409,"h":159,"url":"http://cdn.processon.com/60d6abe2e401fd50b995bfd1?e=1624685043&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:WD9du49eLhjVERrL_pupBOHKBz8="}}]},{"id":"5b7a04c928e4","title":"除(r÷s)","parent":"fb622e43cfdb","children":[{"id":"400fd816e1a0","title":"","parent":"5b7a04c928e4","children":[],"image":{"w":418,"h":258,"url":"http://cdn.processon.com/60d6ae8fe401fd50b995c1a5?e=1624685727&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:8a5Q4JcmXmYCOR-y6fNjU8oJBxA="}}]},{"id":"e59e5be8e594","title":"赋值运算(←)","parent":"fb622e43cfdb","children":[{"id":"f68c5d6c2971","title":"","parent":"e59e5be8e594","children":[],"image":{"w":391,"h":134,"url":"http://cdn.processon.com/60d6aed81e08532a43be2f9a?e=1624685800&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:O3sXXUacN37aDuKmLu1zvx-ssoY="}}]}],"parent":"4fb1faa01e79","collapsed":false},{"id":"e77854c38b9c","title":"扩展关系代数","children":[{"id":"85644984a1e8","title":"聚集函数","parent":"e77854c38b9c","children":[{"id":"9b098ec93605","title":"","parent":"85644984a1e8","children":[],"image":{"w":496,"h":90,"url":"http://cdn.processon.com/60d6b5fef346fb5e35b444e8?e=1624687631&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:8pFZuApbAilTxzidzB1ANqKmNNk="}},{"id":"3f401d7ab64f","title":"","parent":"85644984a1e8","children":[],"image":{"w":440,"h":37,"url":"http://cdn.processon.com/60d6b7430e3e742d29d23128?e=1624687955&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:KQj_rl5kCFmMInJj1reRjwBEt78="}}]},{"id":"17696becf244","title":"外连接","parent":"e77854c38b9c","children":[{"id":"ffe331f10c3b","title":"","parent":"17696becf244","children":[],"image":{"w":114,"h":86,"url":"http://cdn.processon.com/60d6b78d5653bb049a49e868?e=1624688029&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:LdyqGg8iQjEe9wRCRj_WV9RT56c="}}]}],"parent":"4fb1faa01e79","collapsed":false}],"collapsed":false},{"id":"718ec8e49b8c","title":"元组关系演变","children":[{"id":"0510cb43180a","title":"{ t | P(t) }","children":[{"id":"f6f0b9efe75d","title":"表示所有使谓词P为真的元组集合","children":[],"parent":"0510cb43180a"}],"parent":"718ec8e49b8c"},{"id":"86555b116176","title":"t[A]","children":[{"id":"f8c8ded8e687","title":"表示元组t在属性A上的值","children":[],"parent":"86555b116176"}],"parent":"718ec8e49b8c"},{"id":"cce63c9809c6","title":"t∈R","parent":"718ec8e49b8c","children":[{"id":"8433795d9f8f","title":"表示元组t在关系R中","children":[],"parent":"cce63c9809c6"}]}],"parent":"86758789f164","collapsed":false}],"parent":"root","collapsed":false},{"id":"7522cca1849f","title":"第七章&nbsp;数据库设计和ER模型","children":[{"id":"c4678af1b99f","title":"ER图","children":[{"id":"36f1f686d1dc","title":"实体","parent":"c4678af1b99f","children":[{"id":"47dfbcb0f231","title":"用矩形表示实体集，在框内写上实体名和属性","children":[],"parent":"36f1f686d1dc"},{"id":"dc8358462f09","title":"用菱形表示实体间的联系","children":[],"parent":"36f1f686d1dc"},{"id":"6b032ea62585","title":"将参与联系的实体用线段连接","children":[],"parent":"36f1f686d1dc"}]},{"id":"4608286e97c2","title":"属性","children":[{"id":"1986c8de1176","title":"简单属性、复合属性","children":[],"parent":"4608286e97c2"},{"id":"f50896b275f0","title":"单值属性、多值属性","children":[{"id":"be2191bb49ea","title":"多值：{phone_num}","parent":"f50896b275f0","children":[]}],"parent":"4608286e97c2"},{"id":"ee5cce3a39f9","title":"派生属性、基属性","children":[],"parent":"4608286e97c2"},{"id":"05b8a57c2ce0","title":"主码","children":[{"id":"2638ce7e63e6","title":"下划线","children":[],"parent":"05b8a57c2ce0"}],"parent":"4608286e97c2"}],"parent":"c4678af1b99f"},{"id":"6bd8ea2c58e5","title":"联系","children":[{"id":"b85cf12babad","title":"全部参与","children":[{"id":"ecf9b4bbe235","title":"双线","parent":"b85cf12babad","children":[]}],"parent":"6bd8ea2c58e5"},{"id":"ff403e515c1d","title":"映射","parent":"6bd8ea2c58e5","children":[{"id":"dadada3447c2","title":"箭头指向的为单(一对一、一对多、多对多)","parent":"ff403e515c1d","children":[]},{"id":"66611da882c2","title":"基数约束 1..m&nbsp; m..n","children":[],"parent":"ff403e515c1d"}],"collapsed":false},{"id":"508abf68049c","title":"弱实体集","parent":"6bd8ea2c58e5","children":[{"id":"2443f012d3a2","title":"","parent":"508abf68049c","children":[],"image":{"w":350,"url":"http://cdn.processon.com/60d6de80f346fb5e35b47ffa?e=1624698000&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:vSPAd38uqYO8mQCbu-Nrbu_tD_I=","h":243}}],"collapsed":false}],"parent":"c4678af1b99f","collapsed":false},{"id":"a45594bbab36","title":"向关系模式的转换","parent":"c4678af1b99f","children":[{"id":"9530ee8e4204","title":"实体-&gt;关系","children":[{"id":"797d9eb4f89b","title":"实体","parent":"9530ee8e4204","children":[{"id":"39177d69afdf","title":"","image":{"w":382,"h":36,"url":"http://cdn.processon.com/60d6e40bf346fb5e35b489e1?e=1624699420&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:yHl_R-SKLuqtHBrV3yRAuRsdVzw="},"children":[],"parent":"797d9eb4f89b"}]},{"id":"b64310b8d547","title":"弱实体","children":[{"id":"d365b44032be","title":"","image":{"w":504,"url":"http://cdn.processon.com/60d6e44b7d9c087f5475168a?e=1624699483&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:UJDDLp5VfqyQipKvQMvEqY1CGRk=","h":32},"children":[],"parent":"b64310b8d547"}],"parent":"9530ee8e4204"}],"parent":"a45594bbab36","collapsed":false},{"id":"cf38e3700b77","title":"属性","parent":"a45594bbab36","children":[{"id":"dd956f5e1594","title":"复合属性","children":[{"id":"4ba5f754ece6","title":"将每个组合属性作为复合属性所在实体的属性","parent":"dd956f5e1594","children":[]}],"parent":"cf38e3700b77"},{"id":"66bf23386e35","title":"多值属性","parent":"cf38e3700b77","children":[{"id":"c1e471a5c9ac","title":"新的关系+所在实体的码","parent":"66bf23386e35","children":[]}]},{"id":"5f89cd1d4ad9","title":"","parent":"cf38e3700b77","children":[],"image":{"w":435,"h":281,"url":"http://cdn.processon.com/60d6e4d4e0b34d7f116796b1?e=1624699621&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:6hwWyaF3BZHn3A8i71dZLK_4ML8="}}],"collapsed":false},{"id":"12d50d81ff74","title":"联系","parent":"a45594bbab36","children":[{"id":"e3e4a4eb9018","title":"一对一","parent":"12d50d81ff74","children":[{"id":"986fc6194b1c","title":"转化成两个实体表，一个联系表 --&gt; 合并成两个实体表","parent":"e3e4a4eb9018","children":[]}]},{"id":"5206fe31340a","title":"多对一","parent":"12d50d81ff74","children":[{"id":"d62bde4865d9","title":"同上","children":[],"parent":"5206fe31340a"}]},{"id":"f2764e30928d","title":"多对多","children":[{"id":"702519817e44","title":"不能合并","children":[],"parent":"f2764e30928d"}],"parent":"12d50d81ff74"}],"collapsed":false}]},{"id":"89d7ddb40d8b","title":"特殊化ISA","children":[],"parent":"c4678af1b99f"},{"id":"5975dbcc77ee","title":"聚集","parent":"c4678af1b99f","children":[{"id":"0917d54ddcee","title":"可以将联系和参与联系的实体聚集为高层实体<br>高层实体可以和其它实体产生联系","parent":"5975dbcc77ee","children":[]},{"id":"c20bd5b4c17c","title":"","parent":"5975dbcc77ee","children":[],"image":{"w":302,"h":187,"url":"http://cdn.processon.com/60d70db707912920c80b2102?e=1624710087&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:iKDb4YN-x0ZIhMdR4rE3_1T-63U="}}],"collapsed":false}],"parent":"7522cca1849f","collapsed":false}],"parent":"root","collapsed":false},{"id":"39ecafbb16b4","title":"第八章&nbsp;关系数据库设计","parent":"root","children":[{"id":"43072c3a5ec8","title":"Armstrong公理","children":[{"id":"8747d5dafc76","title":"","parent":"43072c3a5ec8","children":[],"image":{"w":387,"h":151,"url":"http://cdn.processon.com/60d73b315653bb049a4a903d?e=1624721729&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:pAesWuEltneSkjVvRwxEwKD1R0w="}},{"id":"a37756ffb5e1","title":"","parent":"43072c3a5ec8","children":[],"image":{"w":369,"url":"http://cdn.processon.com/60d73b55e0b34d7f1167fb9b?e=1624721766&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:hk4TrsmRx8l7xAfQv3Df-6RRL1s=","h":193}}],"parent":"39ecafbb16b4","collapsed":false},{"id":"d34457391899","title":"范式","children":[{"id":"b7d0dd948fad","title":"1NF","children":[{"id":"5c5542002f44","title":"一个关系模式R的<b>所有的属性域都是原子的</b>","children":[],"parent":"b7d0dd948fad"}],"parent":"d34457391899"},{"id":"a3951f2469f0","title":"2NF","children":[{"id":"9dfbe821d0d1","title":"对记录的唯一性，要求记录有唯一标识，即实体的唯一性（<b>消除部分依赖</b>）<br>","children":[],"parent":"a3951f2469f0"}],"parent":"d34457391899"},{"id":"594471d27029","title":"3NF","children":[{"id":"3f859df4f900","title":"对字段的冗余性，要求任何字段不能由其他字段派生出来，它要求字段没有冗余，<br>任何非主属性不依赖于其它非主属性（<b>消除传递依赖</b>）","children":[],"parent":"594471d27029"},{"id":"2b64c6de82f6","title":"F+中所有函数依赖α-&gt;β ，至少有以下之一成立 ： <br>① α-&gt;β 是平凡的函数依赖；<br>② α是超码；<br>③ β - α的每一个属性都包含在R的候选码中","children":[],"parent":"594471d27029"},{"id":"24dbe02c366b","title":"解法：正则覆盖生成表，然后添加候选码(若生成的表中不含候选码)","children":[],"parent":"594471d27029"}],"parent":"d34457391899","collapsed":false},{"id":"53ecd5b8d40d","title":"BCNF","children":[{"id":"5b8af9aa6593","title":"任何非主属性不能对主键子集依赖（<b>消除对主码子集的依赖</b>）","children":[],"parent":"53ecd5b8d40d"},{"id":"a170474cdfa5","title":"去除3","parent":"53ecd5b8d40d","children":[]},{"id":"17bdf489d7ed","title":"判定：若不符合BCNF，则将其拆下来","children":[],"parent":"53ecd5b8d40d"},{"id":"1b99a243496f","title":"解法：只允许主码，消除非主码依赖","children":[{"id":"a47cfede155d","title":"","image":{"w":259,"url":"http://cdn.processon.com/60d85aee7d9c087f547656e0?e=1624795390&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:SjvYtrOX1mvPOeRWsRPlSnHGWe8=","h":40},"children":[{"id":"880ddd4b2d2b","title":"","image":{"w":366,"h":207,"url":"http://cdn.processon.com/60d85b000e3e742d29d3bced?e=1624795409&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:Mxgqt0GccDz7bKfyAy_UNZuA6Pw="},"children":[],"parent":"a47cfede155d"}],"parent":"1b99a243496f","collapsed":false}],"parent":"53ecd5b8d40d"}],"parent":"d34457391899","collapsed":false}],"parent":"39ecafbb16b4","collapsed":false},{"id":"e7cbae128dbf","title":"题型","parent":"39ecafbb16b4","children":[{"id":"435ff852cf01","title":"属性集闭包的计算","parent":"e7cbae128dbf","children":[{"id":"a6e12fee4cf7","title":"","parent":"435ff852cf01","children":[],"image":{"w":364,"url":"http://cdn.processon.com/60d7558ae0b34d7f11680f9f?e=1624728474&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:gkv6QbIRiuo47A8YSDdnJXVIL1E=","h":183}},{"id":"59deca0905c7","title":"","children":[],"parent":"435ff852cf01","image":{"w":362,"url":"http://cdn.processon.com/60d75615f346fb5e35b50764?e=1624728613&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:SqlthwR9HqvPAZNlPLRaJR3dzXU=","h":181}}],"collapsed":false},{"id":"99008d7f4181","title":"求解候选码","children":[{"id":"ed2c1cc2ae72","title":"L：包含，R：不包含，N：包含，LR：不确定","children":[],"parent":"99008d7f4181"},{"id":"ee8fdd4772a0","title":"闭包包含全部元素","parent":"99008d7f4181","children":[]}],"parent":"e7cbae128dbf","collapsed":false},{"id":"24d645d384c5","title":"无关属性","parent":"e7cbae128dbf","children":[{"id":"72da3efd6600","title":"","parent":"24d645d384c5","children":[],"image":{"w":339,"url":"http://cdn.processon.com/60d75a0607912920c80b63ad?e=1624729622&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:kFiJVB1sax-j2hY1zW5XwvhjPdk=","h":197}},{"id":"f16ce49deed8","title":"若目标位于左边，例F1，检验{AB-&gt;C, A-&gt;C} =&gt; {A-&gt;C}<br>若目标位于右边，例F2，检验{AB-&gt;D, A-&gt;C} =&gt; {AB-&gt;CD}<br>","children":[],"parent":"24d645d384c5"}],"collapsed":false},{"id":"31f73956d688","title":"正则覆盖","parent":"e7cbae128dbf","children":[{"id":"c4a2915308ae","title":"","parent":"31f73956d688","children":[],"image":{"w":366,"url":"http://cdn.processon.com/60d75bf75653bb049a4aa8f8?e=1624730120&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:R5DrrKa3FBRAOgJu3Rgf-0Qy8B8=","h":175}},{"id":"772d3bcc531e","title":"","image":{"w":389,"h":254,"url":"http://cdn.processon.com/60d75c0c7d9c087f54758ea9?e=1624730140&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:Nyv-sPGr-XBTAmF8pqxD1Hx-6Zk="},"children":[],"parent":"31f73956d688"},{"id":"d8e9687fb809","title":"正则覆盖未必唯一","children":[],"parent":"31f73956d688"},{"id":"2ff7acbf2846","title":"最小覆盖","parent":"31f73956d688","children":[{"id":"a99953a9573c","title":"等价于Fc，右端属性只有一个","children":[],"parent":"2ff7acbf2846"}]}],"collapsed":false},{"id":"75dc0b12e22e","title":"模式分解","parent":"e7cbae128dbf","children":[{"id":"79a9dd08a2ff","title":"分解要求","parent":"75dc0b12e22e","children":[{"id":"eb1beda5d466","title":"无损连接分解","parent":"79a9dd08a2ff","children":[{"id":"ea0b23c3f855","title":"自然连接等于原来的值","parent":"eb1beda5d466","children":[]},{"id":"e3e4a549f894","title":"","parent":"eb1beda5d466","children":[],"image":{"w":447,"h":271,"url":"http://cdn.processon.com/60d75e595653bb049a4aa9f1?e=1624730730&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:LwGRn4Qv9V-Gzyc1Svpnu1pPRnU="}},{"id":"20608ebfbc44","title":"判断方法：表格法","children":[],"parent":"eb1beda5d466"},{"id":"6930f7c880b7","title":"判断方法：快速法","children":[{"id":"d913ff6ce6de","title":"前提：分解后的关系模式只有两个","children":[],"parent":"6930f7c880b7"},{"id":"d22227c2ae25","title":"","parent":"6930f7c880b7","children":[],"image":{"w":318,"url":"http://cdn.processon.com/60d7600b5653bb049a4aaa95?e=1624731165&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:nSpUz2STeocp82T8RoKOzhP73Wk=","h":79}},{"id":"1f426625ddbb","title":"","image":{"w":345,"h":183,"url":"http://cdn.processon.com/60d7606b1e08532a43befa65?e=1624731259&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:0jf2q0L4k25krDsUK9NM-THSMh8="},"children":[],"parent":"6930f7c880b7"}],"parent":"eb1beda5d466"}],"collapsed":false},{"id":"ef4821a4dc17","title":"保持函数依赖","parent":"79a9dd08a2ff","children":[{"id":"c026a1e74d55","title":"","image":{"w":452,"url":"http://cdn.processon.com/60d75e44e401fd50b9968594?e=1624730710&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:PaxGPKhpolFLoK6eMNlwKeuLSJw=","h":257},"children":[],"parent":"ef4821a4dc17"},{"id":"faa7c37fb5c4","title":"","parent":"ef4821a4dc17","children":[],"image":{"w":459,"url":"http://cdn.processon.com/60d760e2e401fd50b9968681?e=1624731379&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:qN_vndJ3pbptqd3uGFDvJ09bK4U=","h":306}}],"collapsed":false}]}],"collapsed":false},{"id":"7d578b4a75e6","title":"多值依赖","parent":"e7cbae128dbf","children":[]}],"collapsed":false},{"id":"882f63b9cfac","title":"函数依赖","children":[{"id":"1298c326d7d2","title":"函数依赖","children":[],"parent":"882f63b9cfac"},{"id":"038c241fc624","title":"平凡函数依赖","parent":"882f63b9cfac","children":[{"id":"6a56c5cda041","title":"非：AB-&gt;A, A属于AB","parent":"038c241fc624","children":[]}],"collapsed":false},{"id":"6864473533b0","title":"完全函数依赖","parent":"882f63b9cfac","children":[]},{"id":"1052fc9ccda0","title":"部分函数依赖","parent":"882f63b9cfac","children":[]},{"id":"9d52d380ac99","title":"传递函数依赖","parent":"882f63b9cfac","children":[]}],"parent":"39ecafbb16b4","collapsed":false},{"id":"8f2cda7915fa","title":"标号","parent":"39ecafbb16b4","children":[{"id":"ceaae3411636","title":"F：函数依赖集","parent":"8f2cda7915fa","children":[]},{"id":"0de93767e131","title":"F+：F的闭包","parent":"8f2cda7915fa","children":[]},{"id":"09ec95a6a39c","title":"Fc：正则覆盖","parent":"8f2cda7915fa","children":[]},{"id":"b53ad08a8819","title":"Fm：最小覆盖","children":[],"parent":"8f2cda7915fa"}],"collapsed":false}],"collapsed":false},{"id":"ff6706c39e19","title":"第十章&nbsp;数据存储和数据访问","parent":"root","children":[{"id":"9794294a3ae5","title":"缓冲区","children":[],"parent":"ff6706c39e19"},{"id":"b19210fe49ba","title":"索引","children":[{"id":"7b7594bf93d6","title":"主索引(聚集索引、聚簇索引)","parent":"b19210fe49ba","children":[]},{"id":"e18992f6ca9d","title":"辅助索引","parent":"b19210fe49ba","children":[]},{"id":"e1b3ba0fde87","title":"稠密索引、稀疏索引","parent":"b19210fe49ba","children":[]},{"id":"b01c232e00cd","title":"复合索引","parent":"b19210fe49ba","children":[{"id":"be86fbd4ecd8","title":"最左匹配原则","parent":"b01c232e00cd","children":[]}]},{"id":"a14baa66f8f2","title":"B+树索引","parent":"b19210fe49ba","children":[{"id":"5c7d855975bd","title":"优：在数据插入和删除时，能够通过小的自动调整来保持平衡；不需要重组文件来维持性能","parent":"a14baa66f8f2","children":[]},{"id":"6e761cf09fcb","title":"缺：增加文件插入和删除的时间开销，同时会增加空间开销","children":[],"parent":"a14baa66f8f2"}]}],"parent":"ff6706c39e19","collapsed":false}],"collapsed":false},{"id":"4377b0c083d6","title":"第11章&nbsp;查询处理和查询优化","parent":"root","children":[{"id":"c54e1dad58e1","title":"查询处理","children":[{"id":"6cecdea4fd05","title":"解析与翻译","children":[{"id":"de0cc20e7033","title":"语法分析器检查语法，验证关系","children":[],"parent":"6cecdea4fd05"},{"id":"88fe72338f28","title":"把查询语句翻译成系统的内部表示形式，也就是翻译成关系代数","children":[],"parent":"6cecdea4fd05"}],"parent":"c54e1dad58e1"},{"id":"367869be501e","title":"执行","children":[{"id":"916f33965040","title":"查询执行引擎接收一个查询执行计划，执行该计划并把结果返回给查询","children":[],"parent":"367869be501e"}],"parent":"c54e1dad58e1"}],"parent":"4377b0c083d6","collapsed":false},{"id":"505d249b5259","title":"查询优化","parent":"4377b0c083d6","children":[{"id":"5b689d2c6675","title":"在所有等效执行计划中选择具有最小查询执行代价的计划","parent":"505d249b5259","children":[]},{"id":"500e9f9e42cf","title":"表达式树","parent":"505d249b5259","children":[{"id":"d0ebe1da3150","title":"等价规则","children":[{"id":"a25d91da2bc9","title":"","image":{"w":419,"h":239,"url":"http://cdn.processon.com/60d7e4111efad461e452b102?e=1624764962&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:k1I1FrgGnRuPBWW2wsH4lOIfqfM="},"children":[{"id":"3a2cf4606186","title":"","image":{"w":420,"h":213,"url":"http://cdn.processon.com/60d7e4201efad461e452b120?e=1624764976&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:Z0FDOXZyXmMQsg0Y-Mq-dLQydaQ="},"children":[],"parent":"a25d91da2bc9"}],"parent":"d0ebe1da3150"},{"id":"0aeb03529254","title":"","image":{"w":418,"url":"http://cdn.processon.com/60d7e42f7d9c087f5475b5d5?e=1624764991&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:ru1EJs8Mz2JAr-BpYW-mFRH6yvY=","h":189},"children":[{"id":"8d94f2cc39dd","title":"","parent":"0aeb03529254","children":[],"image":{"w":415,"url":"http://cdn.processon.com/60d7e74807912920c80b8f9f?e=1624765785&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:DoR82So9g0fYj_J4l7UvMzUCyF0=","h":82}}],"parent":"d0ebe1da3150"},{"id":"e6edfc664e18","title":"","parent":"d0ebe1da3150","children":[],"image":{"w":414,"url":"http://cdn.processon.com/60d7e7541e08532a43bf24a2?e=1624765796&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:4IRgwh107NDTv_Ws4-ycC6CBUDA=","h":211}}],"parent":"500e9f9e42cf","collapsed":false},{"id":"b112aa028c28","title":"下推投影","children":[{"id":"06921a629fcb","title":"尽可能早地执行投影操作以减小被连接的关系的大小","children":[],"parent":"b112aa028c28"}],"parent":"500e9f9e42cf"}],"collapsed":false}],"collapsed":false}],"collapsed":false},{"id":"672987b891e0","title":"第12章 事务","children":[{"id":"2c6e22bc13da","title":"事务","children":[{"id":"e0cf028b778d","title":"事务是数据库操作的最小工作单元，是访问并可能更新各种数据项的一个程序执行单元(Unit)。<br>这些操作作为一个整体一起向系统提交，要么都执行、要么都不执行。","children":[],"parent":"2c6e22bc13da"},{"id":"23b14986323b","title":"ACID属性","children":[{"id":"a47088829653","title":"原子性Atomicity","parent":"23b14986323b","children":[{"id":"8e99d800df30","title":"事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生","children":[],"parent":"a47088829653"}]},{"id":"7f7d739a079c","title":"一致性Consistency","parent":"23b14986323b","children":[{"id":"db5374b1f01a","title":"一个事务执行前后都必须处于一致性状态，即数据的完整性","children":[],"parent":"7f7d739a079c"}]},{"id":"620f247ad349","title":"隔离性Isolation","parent":"23b14986323b","children":[{"id":"66366913cc4d","title":"系统必须保证事务不受其它并发执行事务的影响","parent":"620f247ad349","children":[]}]},{"id":"f5d5cfc07cf6","title":"持久性Durablity","parent":"23b14986323b","children":[{"id":"4f48639823bd","title":"一个事务一旦提交，它对数据库中数据的改变就应该是永久性的","parent":"f5d5cfc07cf6","children":[]}]}],"parent":"2c6e22bc13da"},{"id":"f14da97a5c59","title":"5种状态","parent":"2c6e22bc13da","children":[{"id":"bb548b5f958e","title":"活动状态","parent":"f14da97a5c59","children":[{"id":"a2717f1f588c","title":"事务在执行时的状态","parent":"bb548b5f958e","children":[]}]},{"id":"5494d4247fd4","title":"部分提交状态","parent":"f14da97a5c59","children":[{"id":"26840e1f1235","title":"事务中最后一条语句被执行后的状态","parent":"5494d4247fd4","children":[]}]},{"id":"0adbe8238843","title":"失败状态","parent":"f14da97a5c59","children":[{"id":"cf034a7540f0","title":"事务不能正常执行的状态","parent":"0adbe8238843","children":[]}]},{"id":"3f4483b81040","title":"提交状态","parent":"f14da97a5c59","children":[{"id":"a1b0e241cf20","title":"事务在部分提交后，将往硬盘上写入数据，当最后一条信息写入后的状态","parent":"3f4483b81040","children":[]}]},{"id":"56b9ab4dcca9","title":"中止状态","parent":"f14da97a5c59","children":[{"id":"90f95e4887e9","title":"事务回滚并且数据库已经恢复到事务开始执行前的状态","parent":"56b9ab4dcca9","children":[]}]},{"id":"a5af0ecf7788","title":"","parent":"f14da97a5c59","children":[],"image":{"w":512,"url":"http://cdn.processon.com/60d8094407912920c80bb301?e=1624774484&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:x9Ka8PrcH-fzjAFBl6uTisOqeLQ=","h":276}}]}],"parent":"672987b891e0","collapsed":false},{"id":"917dc23435c2","title":"并行 VS 串行","parent":"672987b891e0","children":[{"id":"470a54b1fec7","title":"并行事务会破坏数据库的一致性<br>串行事务效率低","parent":"917dc23435c2","children":[]},{"id":"872cb4ba10e4","title":"在保证一致性的前提下最大限度地提高并发度","children":[],"parent":"917dc23435c2"}],"collapsed":false},{"id":"b47c187fca6d","title":"事务隔离级别","children":[{"id":"897aa45f516e","title":"问题","children":[{"id":"08c762452bf0","title":"脏写","children":[{"id":"7b3258e38d2a","title":"一个事务修改了另一个未提交事务修改过的数据","children":[{"id":"bb0d4a42ef1d","title":"","image":{"w":610,"h":287,"url":"http://cdn.processon.com/60d80fcf7d9c087f5475e3c5?e=1624776160&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:7U2T3TLC74eBaCjdsDHndIjS37k="},"children":[],"parent":"7b3258e38d2a"}],"parent":"08c762452bf0","collapsed":true}],"parent":"897aa45f516e"},{"id":"6cda3026ae0a","title":"脏读","children":[{"id":"d163c90d5506","title":"一个事务读到了另一个未提交事务修改过的数据","children":[{"id":"a6dadb846a20","title":"","parent":"d163c90d5506","children":[],"image":{"w":605,"h":283,"url":"http://cdn.processon.com/60d80fddf346fb5e35b55ef2?e=1624776174&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:pOmsaiLkxG_MDugFhAHbGbtAd_w="}}],"parent":"6cda3026ae0a","collapsed":true}],"parent":"897aa45f516e"},{"id":"0b988b9019ac","title":"不可重复读","parent":"897aa45f516e","children":[{"id":"aa22661e8abb","title":"一个事务只能读到另一个已经提交的事务修改过的数据，并且其他事务<br>每对该数据进行一次修改并提交后，该事务都能查询得到最新值","parent":"0b988b9019ac","children":[{"id":"e60670b1fc6d","title":"","parent":"aa22661e8abb","children":[],"image":{"w":688,"h":320,"url":"http://cdn.processon.com/60d81045f346fb5e35b55f55?e=1624776277&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:uK7Q0aDAsAefK7EWP95bDPclw14="}}],"collapsed":true}]},{"id":"5ca63587b027","title":"幻读","children":[{"id":"7e1c438f3f7a","title":"一个事务先根据某些条件查询出一些记录，之后另一个事务又向表中插入了符合这些条件的记录，<br>原先的事务再次按照该条件查询时，能把另一个事务插入的记录也读出来","children":[{"id":"c16b77c444e6","title":"","parent":"7e1c438f3f7a","children":[],"image":{"w":730,"h":254,"url":"http://cdn.processon.com/60d8108c5653bb049a4aff34?e=1624776348&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:df2xKI5JLVn7Qjz9ZeTS1MzPM9g="}}],"parent":"5ca63587b027","collapsed":true}],"parent":"897aa45f516e"}],"parent":"b47c187fca6d"},{"id":"7df90778355b","title":"四种隔离级别","children":[{"id":"c24e1bd0aee6","title":"","image":{"w":765,"url":"http://cdn.processon.com/60d81103e401fd50b996da33?e=1624776467&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:IVWzqbvGNe4FOCZGKcGZi1-Jc-s=","h":195},"children":[],"parent":"7df90778355b"}],"parent":"b47c187fca6d"},{"id":"ad95963ff19f","title":"MVVC(Mult-Version Concurrency Controller)","children":[],"parent":"b47c187fca6d"}],"parent":"672987b891e0","collapsed":false},{"id":"62113bac0851","title":"冲突可串行化","children":[{"id":"a1025efa2003","title":"冲突指令","children":[{"id":"6f39325ba0cc","title":"当两条指令是<b>不同事务</b>在<b>相同数据项</b>上的操作，并且其中<b>至少有一个是write指令</b>","children":[],"parent":"a1025efa2003"}],"parent":"62113bac0851"},{"id":"919869fd07cb","title":"冲突等价","parent":"62113bac0851","children":[{"id":"287cd9b24ade","title":"如果调度S可以经过一系列非冲突指令交换转换成调度S'，则称调度S与S'是冲突等价的","parent":"919869fd07cb","children":[]}]},{"id":"a79773aadf78","title":"冲突可串行化","children":[{"id":"3860117424e7","title":"与串行调度冲突等价","children":[],"parent":"a79773aadf78"}],"parent":"62113bac0851"},{"id":"3c15601d28c8","title":"判定方法：优先图","parent":"62113bac0851","children":[{"id":"21c54bcb62b0","title":"顶点集由所有参与调度的事务组成，<br>边集由冲突指令组成<br>","parent":"3c15601d28c8","children":[]}]}],"parent":"672987b891e0","collapsed":false},{"id":"359c999478e2","title":"可恢复性","parent":"672987b891e0","children":[{"id":"ccf65047883b","title":"事务的恢复","parent":"359c999478e2","children":[{"id":"a578200f210f","title":"一个事务失败了，应该能够撤消该事务对数据库的影响。<br>如果有其它事务读取了失败事务写入的数据，则该事务也应该撤消。","parent":"ccf65047883b","children":[]}]},{"id":"10e1ad26b294","title":"可恢复调度","children":[{"id":"d60a466e7348","title":"对于每对事务T1与T2，如果T2读取了T1所写的数据，则T1必须<b>先于T2提交</b>","children":[],"parent":"10e1ad26b294"}],"parent":"359c999478e2"},{"id":"6232608478e3","title":"无级联调度","parent":"359c999478e2","children":[{"id":"704ab33a8d29","title":"对于每对事务T1与T2，如果T2读取了T1所写的数据，则T1必须<b>在T2读取之前提交</b>","parent":"6232608478e3","children":[]}]}],"collapsed":false},{"id":"46577856a54d","title":"锁","children":[{"id":"70b46a663cb3","title":"行级锁","children":[{"id":"2fccdd3a85d4","title":"记录锁(Record Locks 正经)","parent":"70b46a663cb3","children":[{"id":"ea5695c7ca9f","title":"共享锁 S锁 Shared Locks","children":[],"parent":"2fccdd3a85d4"},{"id":"ee0a254a5357","title":"独占锁 X锁 Exclusive Locks","children":[],"parent":"2fccdd3a85d4"}]},{"id":"b3520f45e68b","title":"Gap锁","parent":"70b46a663cb3","children":[{"id":"db74298e7b3f","title":"不允许别的事务在加锁的记录前插入","parent":"b3520f45e68b","children":[]}]},{"id":"31695581362f","title":"Next-Key 锁","parent":"70b46a663cb3","children":[{"id":"0978b757accf","title":"Record Lock + Gap Lock","parent":"31695581362f","children":[]}]},{"id":"fb3c469f2219","title":"插入意向锁(Insert Intention Locks)","parent":"70b46a663cb3","children":[]},{"id":"504278ad5e31","title":"隐式锁","parent":"70b46a663cb3","children":[{"id":"0da0cd31df3d","title":"一个事务对新插入的记录可以<b>不显式加锁</b>，但是由于<b>事务id</b>这个牛逼的东东的存在，相当于加了一个<b>隐式锁</b>。<br>别的事务在对这条记录加<b>S锁</b>或者<b>X锁</b>时，由于隐式锁的存在，会先<b>帮助当前事务生成一个锁结构</b>，然后自己再生成一个锁结构后进入等待状态。","parent":"504278ad5e31","children":[]}],"collapsed":true}],"parent":"46577856a54d","collapsed":true},{"id":"829eff638de3","title":"表级锁","children":[{"id":"c8e47af5ada1","title":"S锁","children":[],"parent":"829eff638de3"},{"id":"1972c13ea2c4","title":"X锁","parent":"829eff638de3","children":[]},{"id":"dab5ab62588e","title":"IS锁","parent":"829eff638de3","children":[]},{"id":"c519b42c6975","title":"IX锁","parent":"829eff638de3","children":[]},{"id":"e9587c0947d6","title":"AUTO-INC锁","parent":"829eff638de3","children":[]}],"parent":"46577856a54d","collapsed":true},{"id":"0e9a8cd4a497","title":"封锁协议","children":[{"id":"9aabb98c5e43","title":"死锁","children":[],"parent":"0e9a8cd4a497"},{"id":"8d631196671e","title":"活锁(饥饿)","children":[{"id":"71d15109a493","title":"不断出现的申请并获得S锁的事务，使申请X锁的事务一直处在等待状态","children":[],"parent":"8d631196671e"},{"id":"8981aa5a3474","title":"饥饿的防止：<br>对于申请S锁的事务，如果有先于该事务且正在等待的加X锁的事务，则令申请S锁的事务等待","parent":"8d631196671e","children":[]}],"parent":"0e9a8cd4a497"},{"id":"91fd3a4bf2ab","title":"两阶段封锁协议","children":[{"id":"ba90527f4cf0","title":"保证可串行性的封锁协议","children":[],"parent":"91fd3a4bf2ab"},{"id":"c091c5792080","title":"每个事务分两个阶段提出加锁和解锁申请","children":[{"id":"170276e7f9ca","title":"增长阶段：事务可以获得锁，但不能释放锁<br>缩减阶段：事务可以释放锁，但不能获得新锁","parent":"c091c5792080","children":[]}],"parent":"91fd3a4bf2ab"}],"parent":"0e9a8cd4a497"},{"id":"b587d1368b67","title":"严格两阶段封锁协议","children":[{"id":"bcb93369d45d","title":"要求事务持有的所有排他锁必须在事务结束后，方可释放","children":[],"parent":"b587d1368b67"}],"parent":"0e9a8cd4a497"},{"id":"2935a0a16a21","title":"强两阶段封锁协议","parent":"0e9a8cd4a497","children":[{"id":"f496e8a92c27","title":"事务提交之前，不得释放任何锁","parent":"2935a0a16a21","children":[]},{"id":"5a4898c93a10","title":"在强两阶段封锁协议下，事务可以按其结束的顺序串行化","parent":"2935a0a16a21","children":[]}]},{"id":"d1c2aba61356","title":"锁转换","parent":"0e9a8cd4a497","children":[{"id":"56539563425c","title":"锁升级","parent":"d1c2aba61356","children":[{"id":"32f5997eadc6","title":"从共享锁提升为排他锁（增长阶段）","parent":"56539563425c","children":[]}]},{"id":"6642bc2124d8","title":"锁降级","parent":"d1c2aba61356","children":[{"id":"ad92a1b47abe","title":"从排他锁降级为共享锁（缩减阶段）","parent":"6642bc2124d8","children":[]}]}]},{"id":"d819ce5ba09b","title":"时间戳协议","children":[{"id":"19dfa4fb87ca","title":"目标：令调度冲突等价于按照事务开始早晚次序排序的串行调度","children":[],"parent":"d819ce5ba09b"},{"id":"0c9cc7aea05e","title":"开始早的事务不能读开始晚的事务写的数据<br>开始早的事务不能写开始晚的事务已经读过或写过的数据<br>","children":[],"parent":"d819ce5ba09b"},{"id":"d6a15475f785","title":"数据项时间戳","parent":"d819ce5ba09b","children":[{"id":"b0b87b8155f6","title":"W-timestamp(Q)","parent":"d6a15475f785","children":[{"id":"ea1b92fbe4dd","title":"表示成功执行write(Q)的所有事务的最大的时间戳","parent":"b0b87b8155f6","children":[]}]},{"id":"3f2be3ed6363","title":"R-timestamp(Q)","parent":"d6a15475f785","children":[{"id":"7740e7ab6a48","title":"表示成功执行read(Q)的所有事务的最大的时间戳","parent":"3f2be3ed6363","children":[]}]}]},{"id":"ad07c64a7758","title":"判定","parent":"d819ce5ba09b","children":[{"id":"77ee086ba82d","title":"","parent":"ad07c64a7758","children":[{"id":"1a6f5d65d089","title":"","parent":"77ee086ba82d","children":[],"image":{"w":370,"url":"http://cdn.processon.com/60d846d97d9c087f54764032?e=1624790250&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:udvWWCalktYaMwMxAO-6P7dCWvI=","h":222}}],"image":{"w":384,"h":186,"url":"http://cdn.processon.com/60d846ce07912920c80c133e?e=1624790238&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:0rBvG-YsS7_SN7K44eXE0x4L6DY="}}]},{"id":"b27ea8e53aca","title":"性质和特点","children":[{"id":"e87513331186","title":"- 保证冲突可串行化<br>- 冲突可串行化的调度不一定能被时间戳排序协议调度出来<br>- 无死锁<br>- 存在饥饿/饿死现象(事务可能被反复回滚、重启)<br>-&nbsp;不能保证可恢复性","children":[],"parent":"b27ea8e53aca"}],"parent":"d819ce5ba09b"}],"parent":"0e9a8cd4a497"},{"id":"78a9436d16af","title":"多版本机制","children":[{"id":"aefb17548dc3","title":"","image":{"w":365,"url":"http://cdn.processon.com/60d851a17d9c087f54764cf7?e=1624793009&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:4_DLLWb8EuOusDhI9tng5O5Nf38=","h":218},"children":[{"id":"210473f85b96","title":"","image":{"w":391,"h":228,"url":"http://cdn.processon.com/60d8541c1efad461e45345ea?e=1624793645&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:g7zsJChiRGbp-0xKs2MlI0Q8LE4="},"children":[{"id":"9cdc68f3ad38","title":"","parent":"210473f85b96","children":[],"image":{"w":427,"url":"http://cdn.processon.com/60d8546007912920c80c238e?e=1624793712&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:n66iSURRxoE-INMJQaY5ubof-vs=","h":162}}],"parent":"aefb17548dc3"}],"parent":"78a9436d16af"},{"id":"88109d8fb4fc","title":"优：读请求从不失败且不必等待，适用于读操作比写操作频繁","children":[],"parent":"78a9436d16af"},{"id":"50a85c502ce5","title":"缺：读取数据项可能更新R-timestamp字段，增加了一次磁盘访问机会；<br>事务间的冲突通过回滚解决而不是等待，这种做法开销大","parent":"78a9436d16af","children":[]}],"parent":"0e9a8cd4a497"},{"id":"d9634aea3875","title":"死锁","children":[{"id":"e6e86044610b","title":"死锁预防","children":[{"id":"2d315e75d5fd","title":"一次封锁法和顺序封锁法","children":[],"parent":"e6e86044610b"},{"id":"f3f7d6bce843","title":"抢占与事务回滚<br>","children":[],"parent":"e6e86044610b"}],"parent":"d9634aea3875"}],"parent":"0e9a8cd4a497"}],"parent":"46577856a54d","collapsed":false}],"parent":"672987b891e0","collapsed":false}],"parent":"root","collapsed":false}],"lines":{"fbdc23617e3f":{"to":"2b64c6de82f6","id":"fbdc23617e3f","realStart":{"y":9547.449806213379,"x":10532.6375},"start":{"index":1,"y":"0.0","x":"0.1"},"realEnd":{"y":9430.0248046875,"x":10514.362487792969},"styles":{"lineColor":"rgb(113, 203, 45)","color":"#ffffff","lineWidth":2},"label":"去除3","points":[{"y":9492.187294006348,"x":10447.599029541016},{"y":9433.187286376953,"x":10431.599975585938}],"from":"a170474cdfa5","pts":[{"y":-69.26251220703125,"x":-109.83847045898438},{"y":12.762481689453125,"x":-281.76251220703125}],"angle":177.81170561170177,"end":{"index":4,"y":"0.6","x":"0.0"}}},"note":""}},"meta":{"id":"60d455655653bb049a4648d9","member":"5e57a66ae4b0d4dc8772bd88","exportTime":"2021-07-13 12:16:36","diagramInfo":{"category":"mind_free","title":"数据库","created":"2021-06-24 17:50:29","creator":"5e57a66ae4b0d4dc8772bd88","modified":"2021-07-13 12:15:33"},"type":"ProcessOn Schema File","version":"1.0"}}